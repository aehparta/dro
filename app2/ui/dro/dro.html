<div class="dro">
  <div
    class="row gx-2"
    :style="{ flexDirection: ui.view.reverse ? 'row-reverse' : 'row' }"
  >
    <div class="col">
      <div
        class="row gx-2 h-100"
        :style="{ flexDirection: ui.view.reverse ? 'row-reverse' : 'row' }"
      >
        <Sidebar class="col-3 focusable-group">
          <Project
            class="selectable focusable"
            v-bind="project"
            @click="toggle('projects')"
          >
            <Icon id="tasks" />
            Select project
          </Project>
          <Material
            v-if="project"
            class="selectable focusable"
            v-bind="material"
            @click="toggle('materials')"
          >
            <Icon id="splotch" />
            Select material
          </Material>
          <Machine
            v-if="project"
            class="selectable focusable"
            v-bind="machine"
            @click="toggle('machines')"
          >
            <Icon id="tools" />
            Select machine
          </Machine>
          <Tool
            v-if="machine"
            class="selectable focusable"
            v-bind="tool"
            @click="toggle('tools')"
          >
            <Icon id="fan" />
            Select tool
          </Tool>
          <div class="spacer"></div>
          <Offset
            v-if="project"
            v-for="(value, id) in offsets"
            :id="id"
            :selected="value === offset"
            v-bind="value"
            class="selectable focusable"
            @click="offset = id"
          />
        </Sidebar>
        <div class="col">
          <div class="row" v-if="show === 'default'">
            <div class="col-6 focusable-group">Default</div>
          </div>
          <Projects
            v-if="show === 'projects'"
            @select="(v) => { project = v; show = 'default' }"
            class="focusable-group"
          />
          <Materials
            v-if="show === 'materials'"
            @select="(v) => { material = v; show = 'default' }"
            class="focusable-group"
          />
          <Machines
            v-if="show === 'machines'"
            @select="(v) => { machine = v; show = 'default' }"
            class="focusable-group"
          />
          <Tools
            v-if="show === 'tools'"
            @select="(v) => { tool = v; show = 'default' }"
            class="focusable-group row-cols-2 mx-0"
          />
        </div>
      </div>
    </div>
    <div class="col axes">
      <Axis
        v-for="(data, id) in machine?.axes"
        :machine_id="machine.id"
        :id="id"
        :label="(data.label || id).toUpperCase()"
        :offset="offset?.[id] || 0"
        :decimals="decimals"
        @offset="(v) => offset = [id, v]"
      />
    </div>
  </div>
</div>
